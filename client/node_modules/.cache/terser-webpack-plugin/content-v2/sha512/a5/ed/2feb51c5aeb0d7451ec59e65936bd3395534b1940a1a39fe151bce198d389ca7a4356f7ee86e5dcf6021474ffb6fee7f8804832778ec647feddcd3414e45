{"map":{"version":3,"sources":["static/js/main.5aa875fc.chunk.js"],"names":["this","push","32","module","exports","__webpack_require__","p","52","57","67","68","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","react_common_esm","bundle_esm","slicedToArray","objectSpread2","idbPromise","storeName","method","object","Promise","resolve","reject","db","tx","store","request","window","indexedDB","open","onupgradeneeded","e","result","createObjectStore","keyPath","onerror","console","log","onsuccess","transaction","objectStore","put","all","getAll","delete","_id","oncomplete","close","objectWithoutProperties","toConsumableArray","reducers_reducer","state","action","type","Object","products","cartOpen","cart","concat","product","map","purchaseQuantity","newState","filter","length","categories","currentCategory","StoreContext","Provider","GlobalState_StoreProvider","_ref","value","initialState","props","_useProductReducer","_useProductReducer2","dispatch","a","createElement","assign","GlobalState_useStoreContext","components_ProductItem","item","_useStoreContext","_useStoreContext2","image","name","price","quantity","className","to","alt","src","count","pluralize","onClick","itemInCart","find","cartItem","parseInt","react_hooks_esm","taggedTemplateLiteral","graphql_tag_src","graphql_tag_src_default","_templateObject5","data","_templateObject4","_templateObject3","_templateObject2","_templateObject","QUERY_PRODUCTS","QUERY_CHECKOUT","QUERY_CATEGORIES","QUERY_USER","spinner","spinner_default","components_ProductList","_useQuery","loading","forEach","then","category","key","components_CategoryMenu","categoryData","id","regenerator","regenerator_default","asyncToGenerator","stripe_esm","components_CartItem","placeholder","onChange","target","role","aria-label","removeFromCart","classCallCheck","createClass","lib","lib_default","auth","AuthService","getToken","token","isTokenExpired","exp","Date","now","err","localStorage","getItem","idToken","setItem","location","removeItem","stripePromise","components_Cart","_useLazyQuery","_useLazyQuery2","getCheckout","toggleCart","res","redirectToCheckout","sessionId","checkout","session","_getCart","mark","_callee","wrap","_context","prev","next","sent","stop","apply","arguments","getCart","sum","toFixed","calculateTotal","loggedIn","productIds","i","variables","pages_Home","pages_Detail","_useState","_useState2","currentProduct","setCurrentProduct","indexedProducts","Fragment","description","disabled","components_Jumbotron","children","style","height","clear","paddingTop","textAlign","pages_NoMatch","defineProperty","mutations_templateObject3","mutations_templateObject2","mutations_templateObject","LOGIN","ADD_ORDER","ADD_USER","pages_Login","email","password","formState","setFormState","_useMutation","_useMutation2","login","error","handleFormSubmit","event","mutationResponse","preventDefault","t0","_x","handleChange","_event$target","onSubmit","htmlFor","pages_Signup","addUser","firstName","lastName","components_Nav","href","logout","pages_Success","addOrder","_saveOrder","_yield$addOrder","setTimeout","saveOrder","pages_OrderHistory","user","orders","order","purchaseDate","toLocaleDateString","index","client","operation","setContext","headers","authorization","uri","src_App","exact","path","component","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","render","StrictMode","document","getElementById","URL","origin","addEventListener","fetch","Service-Worker","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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"},"code":"(this[\"webpackJsonpmern-client\"]=this[\"webpackJsonpmern-client\"]||[]).push([[0],{32:function(e,t,a){e.exports=a.p+\"static/media/spinner.ab497855.gif\"},52:function(e,t,a){e.exports=a(68)},57:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),c=a(41),o=a.n(c),i=(a(57),a(9)),l=a(6),u=a(13),s=a(50),m=a(5),d=a(4);function p(e,t,a){return new Promise((function(n,r){var c,o,i,l=window.indexedDB.open(\"shop-shop\",1);l.onupgradeneeded=function(e){var t=l.result;t.createObjectStore(\"products\",{keyPath:\"_id\"}),t.createObjectStore(\"categories\",{keyPath:\"_id\"}),t.createObjectStore(\"cart\",{keyPath:\"_id\"})},l.onerror=function(e){console.log(\"There was an error\")},l.onsuccess=function(r){switch(c=l.result,o=c.transaction(e,\"readwrite\"),i=o.objectStore(e),c.onerror=function(e){console.log(\"error\",e)},t){case\"put\":i.put(a),n(a);break;case\"get\":var u=i.getAll();u.onsuccess=function(){n(u.result)};break;case\"delete\":i.delete(a._id);break;default:console.log(\"No valid method\")}o.oncomplete=function(){c.close()}}}))}var f=a(51),E=a(23),b=function(e,t){switch(t.type){case\"UPDATE_PRODUCTS\":return Object(d.a)(Object(d.a)({},e),{},{products:Object(E.a)(t.products)});case\"ADD_TO_CART\":return Object(d.a)(Object(d.a)({},e),{},{cartOpen:!0,cart:[].concat(Object(E.a)(e.cart),[t.product])});case\"ADD_MULTIPLE_TO_CART\":return Object(d.a)(Object(d.a)({},e),{},{cart:[].concat(Object(E.a)(e.cart),Object(E.a)(t.products))});case\"UPDATE_CART_QUANTITY\":return Object(d.a)(Object(d.a)({},e),{},{cartOpen:!0,cart:e.cart.map((function(e){return t._id===e._id&&(e.purchaseQuantity=t.purchaseQuantity),e}))});case\"REMOVE_FROM_CART\":var a=e.cart.filter((function(e){return e._id!==t._id}));return Object(d.a)(Object(d.a)({},e),{},{cartOpen:a.length>0,cart:a});case\"CLEAR_CART\":return Object(d.a)(Object(d.a)({},e),{},{cartOpen:!1,cart:[]});case\"TOGGLE_CART\":return Object(d.a)(Object(d.a)({},e),{},{cartOpen:!e.cartOpen});case\"UPDATE_CATEGORIES\":return Object(d.a)(Object(d.a)({},e),{},{categories:Object(E.a)(t.categories)});case\"UPDATE_CURRENT_CATEGORY\":return Object(d.a)(Object(d.a)({},e),{},{currentCategory:t.currentCategory});default:return e}};var g=Object(n.createContext)(),h=g.Provider,v=function(e){e.value;var t,a=Object(f.a)(e,[\"value\"]),c=(t={products:[],cart:[],cartOpen:!1,categories:[],currentCategory:\"\"},Object(n.useReducer)(b,t)),o=Object(m.a)(c,2),i=o[0],l=o[1];return r.a.createElement(h,Object.assign({value:[i,l]},a))},O=function(){return Object(n.useContext)(g)};var y=function(e){var t=O(),a=Object(m.a)(t,2),n=a[0],c=a[1],o=e.image,l=e.name,u=e._id,s=e.price,f=e.quantity,E=n.cart;return r.a.createElement(\"div\",{className:\"card px-1 py-1\"},r.a.createElement(i.b,{to:\"/products/\".concat(u)},r.a.createElement(\"img\",{alt:l,src:\"/images/\".concat(o)}),r.a.createElement(\"p\",null,l)),r.a.createElement(\"div\",null,r.a.createElement(\"div\",null,f,\" \",function(e,t){return 1===t?e:e+\"s\"}(\"item\",f),\" in stock\"),r.a.createElement(\"span\",null,\"$\",s)),r.a.createElement(\"button\",{onClick:function(){var t=E.find((function(e){return e._id===u}));t?(c({type:\"UPDATE_CART_QUANTITY\",_id:u,purchaseQuantity:parseInt(t.purchaseQuantity)+1}),p(\"cart\",\"put\",Object(d.a)(Object(d.a)({},t),{},{purchaseQuantity:parseInt(t.purchaseQuantity)+1}))):(c({type:\"ADD_TO_CART\",product:Object(d.a)(Object(d.a)({},e),{},{purchaseQuantity:1})}),p(\"cart\",\"put\",Object(d.a)(Object(d.a)({},e),{},{purchaseQuantity:1})))}},\"Add to cart\"))},j=a(11),w=a(21),_=a(17),T=a.n(_);function k(){var e=Object(w.a)([\"\\n{\\n  user {\\n    firstName\\n    lastName\\n    orders {\\n      _id\\n      purchaseDate\\n      products {\\n        _id\\n        name\\n        description\\n        price\\n        quantity\\n        image\\n      }\\n    }\\n  }\\n}\\n\"]);return k=function(){return e},e}function N(){var e=Object(w.a)([\"\\n{\\n  categories {\\n    _id\\n    name\\n  }\\n}\\n\"]);return N=function(){return e},e}function C(){var e=Object(w.a)([\"\\n  {\\n    products {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      category {\\n        name\\n      }\\n    }\\n  }\\n\"]);return C=function(){return e},e}function x(){var e=Object(w.a)([\"\\n  query getCheckout($products: [ID]!) {\\n    checkout(products: $products) {\\n      session\\n    }\\n  }\\n\"]);return x=function(){return e},e}function A(){var e=Object(w.a)([\"\\n  query getProducts($category: ID) {\\n    products(category: $category) {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      image\\n      category {\\n        _id\\n      }\\n    }\\n  }\\n\"]);return A=function(){return e},e}var R=T()(A()),D=T()(x()),S=(T()(C()),T()(N())),P=T()(k()),U=a(32),I=a.n(U);var Q=function(){var e=O(),t=Object(m.a)(e,2),a=t[0],c=t[1],o=a.currentCategory,i=Object(j.c)(R),l=i.loading,u=i.data;return Object(n.useEffect)((function(){u?(c({type:\"UPDATE_PRODUCTS\",products:u.products}),u.products.forEach((function(e){p(\"products\",\"put\",e)}))):l||p(\"products\",\"get\").then((function(e){c({type:\"UPDATE_PRODUCTS\",products:e})}))}),[u,l,c]),r.a.createElement(\"div\",{className:\"my-2\"},r.a.createElement(\"h2\",null,\"Our Products:\"),a.products.length?r.a.createElement(\"div\",{className:\"flex-row\"},(o?a.products.filter((function(e){return e.category._id===o})):a.products).map((function(e){return r.a.createElement(y,{key:e._id,_id:e._id,image:e.image,name:e.name,price:e.price,quantity:e.quantity})}))):r.a.createElement(\"h3\",null,\"You haven't added any products yet!\"),l?r.a.createElement(\"img\",{src:I.a,alt:\"loading\"}):null)};var $=function(){var e=O(),t=Object(m.a)(e,2),a=t[0],c=t[1],o=a.categories,i=Object(j.c)(S),l=i.loading,u=i.data;return Object(n.useEffect)((function(){u?(c({type:\"UPDATE_CATEGORIES\",categories:u.categories}),u.categories.forEach((function(e){p(\"categories\",\"put\",e)}))):l||p(\"categories\",\"get\").then((function(e){c({type:\"UPDATE_CATEGORIES\",categories:e})}))}),[u,l,c]),r.a.createElement(\"div\",null,r.a.createElement(\"h2\",null,\"Choose a Category:\"),o.map((function(e){return r.a.createElement(\"button\",{key:e._id,onClick:function(){var t;t=e._id,c({type:\"UPDATE_CURRENT_CATEGORY\",currentCategory:t})}},e.name)})))},F=a(18),L=a.n(F),q=a(22),M=a(47),G=function(e){var t=e.item,a=O(),n=Object(m.a)(a,2)[1];return r.a.createElement(\"div\",{className:\"flex-row\"},r.a.createElement(\"div\",null,r.a.createElement(\"img\",{src:\"/images/\".concat(t.image),alt:\"\"})),r.a.createElement(\"div\",null,r.a.createElement(\"div\",null,t.name,\", $\",t.price),r.a.createElement(\"div\",null,r.a.createElement(\"span\",null,\"Qty:\"),r.a.createElement(\"input\",{type:\"number\",placeholder:\"1\",value:t.purchaseQuantity,onChange:function(e){var a=e.target.value;\"0\"===a?(n({type:\"REMOVE_FROM_CART\",_id:t._id}),p(\"cart\",\"delete\",Object(d.a)({},t))):(n({type:\"UPDATE_CART_QUANTITY\",_id:t._id,purchaseQuantity:parseInt(a)}),p(\"cart\",\"put\",Object(d.a)(Object(d.a)({},t),{},{purchaseQuantity:parseInt(a)})))}}),r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"trash\",onClick:function(){return function(e){n({type:\"REMOVE_FROM_CART\",_id:e._id}),p(\"cart\",\"delete\",Object(d.a)({},e))}(t)}},\"\\ud83d\\uddd1\\ufe0f\"))))},Y=a(48),W=a(49),B=a(36),H=a.n(B),V=new(function(){function e(){Object(Y.a)(this,e)}return Object(W.a)(e,[{key:\"getProfile\",value:function(){return H()(this.getToken())}},{key:\"loggedIn\",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:\"isTokenExpired\",value:function(e){try{return H()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:\"getToken\",value:function(){return localStorage.getItem(\"id_token\")}},{key:\"login\",value:function(e){localStorage.setItem(\"id_token\",e),window.location.assign(\"/\")}},{key:\"logout\",value:function(){localStorage.removeItem(\"id_token\"),window.location.assign(\"/\")}}]),e}()),J=(a(67),Object(M.a)(\"pk_test_TYooMQauvdEDq54NiTphI7jx\")),z=function(){var e=O(),t=Object(m.a)(e,2),a=t[0],c=t[1],o=Object(j.a)(D),i=Object(m.a)(o,2),l=i[0],u=i[1].data;function s(){c({type:\"TOGGLE_CART\"})}return Object(n.useEffect)((function(){u&&J.then((function(e){e.redirectToCheckout({sessionId:u.checkout.session})}))}),[u]),Object(n.useEffect)((function(){function e(){return(e=Object(q.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(\"cart\",\"get\");case 2:t=e.sent,c({type:\"ADD_MULTIPLE_TO_CART\",products:Object(E.a)(t)});case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}a.cart.length||function(){e.apply(this,arguments)}()}),[a.cart.length,c]),a.cartOpen?r.a.createElement(\"div\",{className:\"cart\"},r.a.createElement(\"div\",{className:\"close\",onClick:s},\"[close]\"),r.a.createElement(\"h2\",null,\"Shopping Cart\"),a.cart.length?r.a.createElement(\"div\",null,a.cart.map((function(e){return r.a.createElement(G,{key:e._id,item:e})})),r.a.createElement(\"div\",{className:\"flex-row space-between\"},r.a.createElement(\"strong\",null,\"Total: $\",function(){var e=0;return a.cart.forEach((function(t){e+=t.price*t.purchaseQuantity})),e.toFixed(2)}()),V.loggedIn()?r.a.createElement(\"button\",{onClick:function(){var e=[];a.cart.forEach((function(t){for(var a=0;a<t.purchaseQuantity;a++)e.push(t._id)})),l({variables:{products:e}})}},\"Checkout\"):r.a.createElement(\"span\",null,\"(log in to check out)\"))):r.a.createElement(\"h3\",null,r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"shocked\"},\"\\ud83d\\ude31\"),\"You haven't added anything to your cart yet!\")):r.a.createElement(\"div\",{className:\"cart-closed\",onClick:s},r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"trash\"},\"\\ud83d\\uded2\"))},K=function(){return r.a.createElement(\"div\",{className:\"container\"},r.a.createElement($,null),r.a.createElement(Q,null),r.a.createElement(z,null))};var X=function(){var e=O(),t=Object(m.a)(e,2),a=t[0],c=t[1],o=Object(l.f)().id,u=Object(n.useState)({}),s=Object(m.a)(u,2),f=s[0],E=s[1],b=Object(j.c)(R),g=b.loading,h=b.data,v=a.products,y=a.cart;return Object(n.useEffect)((function(){v.length?E(v.find((function(e){return e._id===o}))):h?(c({type:\"UPDATE_PRODUCTS\",products:h.products}),h.products.forEach((function(e){p(\"products\",\"put\",e)}))):g||p(\"products\",\"get\").then((function(e){c({type:\"UPDATE_PRODUCTS\",products:e})}))}),[v,h,g,c,o]),r.a.createElement(r.a.Fragment,null,f&&y?r.a.createElement(\"div\",{className:\"container my-1\"},r.a.createElement(i.b,{to:\"/\"},\"\\u2190 Back to Products\"),r.a.createElement(\"h2\",null,f.name),r.a.createElement(\"p\",null,f.description),r.a.createElement(\"p\",null,r.a.createElement(\"strong\",null,\"Price:\"),\"$\",f.price,\" \",r.a.createElement(\"button\",{onClick:function(){var e=y.find((function(e){return e._id===o}));e?(c({type:\"UPDATE_CART_QUANTITY\",_id:o,purchaseQuantity:parseInt(e.purchaseQuantity)+1}),p(\"cart\",\"put\",Object(d.a)(Object(d.a)({},e),{},{purchaseQuantity:parseInt(e.purchaseQuantity)+1}))):(c({type:\"ADD_TO_CART\",product:Object(d.a)(Object(d.a)({},f),{},{purchaseQuantity:1})}),p(\"cart\",\"put\",Object(d.a)(Object(d.a)({},f),{},{purchaseQuantity:1})))}},\"Add to Cart\"),r.a.createElement(\"button\",{disabled:!y.find((function(e){return e._id===f._id})),onClick:function(){c({type:\"REMOVE_FROM_CART\",_id:f._id}),p(\"cart\",\"delete\",Object(d.a)({},f))}},\"Remove from Cart\")),r.a.createElement(\"img\",{src:\"/images/\".concat(f.image),alt:f.name})):null,g?r.a.createElement(\"img\",{src:I.a,alt:\"loading\"}):null,r.a.createElement(z,null))};var Z=function(e){var t=e.children;return r.a.createElement(\"div\",{style:{height:560,clear:\"both\",paddingTop:120,textAlign:\"center\"}},t)},ee=function(){return r.a.createElement(\"div\",null,r.a.createElement(Z,null,r.a.createElement(\"h1\",null,\"404 Page Not Found\"),r.a.createElement(\"h1\",null,r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"Face With Rolling Eyes Emoji\"},\"\\ud83d\\ude44\"))))},te=a(25);function ae(){var e=Object(w.a)([\"\\n  mutation addUser($firstName: String!, $lastName: String!, $email: String!, $password: String!) {\\n    addUser(firstName: $firstName, lastName: $lastName, email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"]);return ae=function(){return e},e}function ne(){var e=Object(w.a)([\"\\n  mutation addOrder($products: [ID]!) {\\n    addOrder(products: $products) {\\n      purchaseDate\\n      products {\\n        _id\\n      name\\n      description\\n      price\\n      quantity\\n      category {\\n        name\\n      } \\n      }\\n    }\\n  }\\n\"]);return ne=function(){return e},e}function re(){var e=Object(w.a)([\"\\n  mutation login($email: String!, $password: String!) {\\n    login(email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"]);return re=function(){return e},e}var ce=T()(re()),oe=T()(ne()),ie=T()(ae());var le=function(e){var t=Object(n.useState)({email:\"\",password:\"\"}),a=Object(m.a)(t,2),c=a[0],o=a[1],l=Object(j.b)(ce),u=Object(m.a)(l,2),s=u[0],p=u[1].error,f=function(){var e=Object(q.a)(L.a.mark((function e(t){var a,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,s({variables:{email:c.email,password:c.password}});case 4:a=e.sent,n=a.data.login.token,V.login(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),E=function(e){var t=e.target,a=t.name,n=t.value;o(Object(d.a)(Object(d.a)({},c),{},Object(te.a)({},a,n)))};return r.a.createElement(\"div\",{className:\"container my-1\"},r.a.createElement(i.b,{to:\"/signup\"},\"\\u2190 Go to Signup\"),r.a.createElement(\"h2\",null,\"Login\"),r.a.createElement(\"form\",{onSubmit:f},r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"email\"},\"Email address:\"),r.a.createElement(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:E})),r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"pwd\"},\"Password:\"),r.a.createElement(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:E})),p?r.a.createElement(\"div\",null,r.a.createElement(\"p\",{className:\"error-text\"},\"The provided credentials are incorrect\")):null,r.a.createElement(\"div\",{className:\"flex-row flex-end\"},r.a.createElement(\"button\",{type:\"submit\"},\"Submit\"))))};var ue=function(e){var t=Object(n.useState)({email:\"\",password:\"\"}),a=Object(m.a)(t,2),c=a[0],o=a[1],l=Object(j.b)(ie),u=Object(m.a)(l,1)[0],s=function(){var e=Object(q.a)(L.a.mark((function e(t){var a,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,u({variables:{email:c.email,password:c.password,firstName:c.firstName,lastName:c.lastName}});case 3:a=e.sent,n=a.data.addUser.token,V.login(n);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){var t=e.target,a=t.name,n=t.value;o(Object(d.a)(Object(d.a)({},c),{},Object(te.a)({},a,n)))};return r.a.createElement(\"div\",{className:\"container my-1\"},r.a.createElement(i.b,{to:\"/login\"},\"\\u2190 Go to Login\"),r.a.createElement(\"h2\",null,\"Signup\"),r.a.createElement(\"form\",{onSubmit:s},r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"firstName\"},\"First Name:\"),r.a.createElement(\"input\",{placeholder:\"First\",name:\"firstName\",type:\"firstName\",id:\"firstName\",onChange:p})),r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"lastName\"},\"Last Name:\"),r.a.createElement(\"input\",{placeholder:\"Last\",name:\"lastName\",type:\"lastName\",id:\"lastName\",onChange:p})),r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"email\"},\"Email:\"),r.a.createElement(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:p})),r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"pwd\"},\"Password:\"),r.a.createElement(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:p})),r.a.createElement(\"div\",{className:\"flex-row flex-end\"},r.a.createElement(\"button\",{type:\"submit\"},\"Submit\"))))};var se=function(){return r.a.createElement(\"header\",{className:\"flex-row px-1\"},r.a.createElement(\"h1\",null,r.a.createElement(i.b,{to:\"/\"},r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"shopping bag\"},\"\\ud83d\\udecd\\ufe0f\"),\"-Shop-Shop\")),r.a.createElement(\"nav\",null,V.loggedIn()?r.a.createElement(\"ul\",{className:\"flex-row\"},r.a.createElement(\"li\",{className:\"mx-1\"},r.a.createElement(i.b,{to:\"/orderHistory\"},\"Order History\")),r.a.createElement(\"li\",{className:\"mx-1\"},r.a.createElement(\"a\",{href:\"/\",onClick:function(){return V.logout()}},\"Logout\"))):r.a.createElement(\"ul\",{className:\"flex-row\"},r.a.createElement(\"li\",{className:\"mx-1\"},r.a.createElement(i.b,{to:\"/signup\"},\"Signup\")),r.a.createElement(\"li\",{className:\"mx-1\"},r.a.createElement(i.b,{to:\"/login\"},\"Login\")))))};var me=function(){var e=Object(j.b)(oe),t=Object(m.a)(e,1)[0];return Object(n.useEffect)((function(){function e(){return(e=Object(q.a)(L.a.mark((function e(){var a,n,r,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(\"cart\",\"get\");case 2:if(a=e.sent,!(n=a.map((function(e){return e._id}))).length){e.next=11;break}return e.next=7,t({variables:{products:n}});case 7:r=e.sent,c=r.data,c.addOrder.products.forEach((function(e){p(\"cart\",\"delete\",e)}));case 11:setTimeout((function(){window.location.assign(\"/\")}),3e3);case 12:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),r.a.createElement(\"div\",null,r.a.createElement(Z,null,r.a.createElement(\"h1\",null,\"Success!\"),r.a.createElement(\"h2\",null,\"Thank you for your purchase!\"),r.a.createElement(\"h2\",null,\"You will now be redirected to the home page\")))};var de=function(){var e,t=Object(j.c)(P).data;return t&&(e=t.user),r.a.createElement(r.a.Fragment,null,r.a.createElement(\"div\",{className:\"container my-1\"},r.a.createElement(i.b,{to:\"/\"},\"\\u2190 Back to Products\"),e?r.a.createElement(r.a.Fragment,null,r.a.createElement(\"h2\",null,\"Order History for \",e.firstName,\" \",e.lastName),e.orders.map((function(e){return r.a.createElement(\"div\",{key:e._id,className:\"my-2\"},r.a.createElement(\"h3\",null,new Date(parseInt(e.purchaseDate)).toLocaleDateString()),r.a.createElement(\"div\",{className:\"flex-row\"},e.products.map((function(e,t){var a=e._id,n=e.image,c=e.name,o=e.price;return r.a.createElement(\"div\",{key:t,className:\"card px-1 py-1\"},r.a.createElement(i.b,{to:\"/products/\".concat(a)},r.a.createElement(\"img\",{alt:c,src:\"/images/\".concat(n)}),r.a.createElement(\"p\",null,c)),r.a.createElement(\"div\",null,r.a.createElement(\"span\",null,\"$\",o)))}))))}))):null))},pe=new s.a({request:function(e){var t=localStorage.getItem(\"id_token\");e.setContext({headers:{authorization:t?\"Bearer \".concat(t):\"\"}})},uri:\"/graphql\"});var fe=function(){return r.a.createElement(u.a,{client:pe},r.a.createElement(i.a,null,r.a.createElement(\"div\",null,r.a.createElement(v,null,r.a.createElement(se,null),r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:\"/\",component:K}),r.a.createElement(l.a,{exact:!0,path:\"/login\",component:le}),r.a.createElement(l.a,{exact:!0,path:\"/signup\",component:ue}),r.a.createElement(l.a,{exact:!0,path:\"/success\",component:me}),r.a.createElement(l.a,{exact:!0,path:\"/orderHistory\",component:de}),r.a.createElement(l.a,{exact:!0,path:\"/products/:id\",component:X}),r.a.createElement(l.a,{component:ee}))))))},Ee=Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function be(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){\"installed\"===a.state&&(navigator.serviceWorker.controller?(console.log(\"New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA.\"),t&&t.onUpdate&&t.onUpdate(e)):(console.log(\"Content is cached for offline use.\"),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error(\"Error during service worker registration:\",e)}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(fe,null)),document.getElementById(\"root\")),function(e){if(\"serviceWorker\"in navigator){if(new URL(\"\",window.location.href).origin!==window.location.origin)return;window.addEventListener(\"load\",(function(){var t=\"\".concat(\"\",\"/service-worker.js\");Ee?(!function(e,t){fetch(e,{headers:{\"Service-Worker\":\"script\"}}).then((function(a){var n=a.headers.get(\"content-type\");404===a.status||null!=n&&-1===n.indexOf(\"javascript\")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):be(e,t)})).catch((function(){console.log(\"No internet connection found. App is running in offline mode.\")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log(\"This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA\")}))):be(t,e)}))}}()}},[[52,1,2]]]);","extractedComments":[]}